(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7818],{6829:(e,t,s)=>{"use strict";s.d(t,{B:()=>A});var a=s(95155),r=s(12115),l=s(4648),n=s(32919),i=s(17580),o=s(53311),d=s(97939),c=s(89917),u=s(74126),x=s(35695),h=s(12205),m=s(13580),g=s(17649),v=s(53999),f=s(97168);function b(e){let{...t}=e;return(0,a.jsx)(g.bL,{"data-slot":"alert-dialog",...t})}function p(e){let{...t}=e;return(0,a.jsx)(g.ZL,{"data-slot":"alert-dialog-portal",...t})}function j(e){let{className:t,...s}=e;return(0,a.jsx)(g.hJ,{"data-slot":"alert-dialog-overlay",className:(0,v.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function N(e){let{className:t,...s}=e;return(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{}),(0,a.jsx)(g.UC,{"data-slot":"alert-dialog-content",className:(0,v.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s})]})}function w(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,v.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function y(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,v.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function F(e){let{className:t,...s}=e;return(0,a.jsx)(g.hE,{"data-slot":"alert-dialog-title",className:(0,v.cn)("text-lg font-semibold",t),...s})}function k(e){let{className:t,...s}=e;return(0,a.jsx)(g.VY,{"data-slot":"alert-dialog-description",className:(0,v.cn)("text-muted-foreground text-sm",t),...s})}function C(e){let{className:t,...s}=e;return(0,a.jsx)(g.rc,{className:(0,v.cn)((0,f.r)(),t),...s})}function z(e){let{className:t,...s}=e;return(0,a.jsx)(g.ZD,{className:(0,v.cn)((0,f.r)({variant:"outline"}),t),...s})}var D=s(49861),_=s(56671);let A=e=>{var t,s;let{thread:g,refetchThreads:v,isFetchingThreads:f}=e,[p,{isLoading:j}]=(0,D.K4)(),[A,S]=r.useState(!1),[B,E]=r.useState({qrCode:null,name:""}),L=(0,x.useRouter)(),P=r.useRef(!1),[T,O]=r.useState(!1),{user:R}=(0,m.G)(e=>e.auth),q=(null==g?void 0:g.ownerId)===(null==R?void 0:R.id);console.log("refetchThreads, isFetchingThreads",g);let M=async e=>{P.current=!0;let t=await p(e).unwrap();(null==t?void 0:t.isSuccess)&&(v&&v(),f&&(_.oR.success("Thread deleted successfully!"),O(!1)))};return(0,a.jsxs)("div",{tabIndex:0,onClick:e=>{if(P.current)return;let t=e.target;!(t.closest("button")||t.closest("svg"))&&g&&(null==g?void 0:g._id)&&!1===P.current&&L.push("/dashboard/thread/".concat(g._id))},className:"relative bg-[#1c102b] rounded-xl overflow-hidden border border-[#3f2e6a] border-opacity-70   transition-all duration-500 hover:shadow-[0_0_20px_rgb(255,0,93)] hover:border-opacity-100   group cursor-pointer relative",children:[(0,a.jsxs)("div",{className:"relative p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold bg-gradient-to-r from-[#FF005D] to-[#00D1FF] bg-clip-text text-transparent   group-hover:brightness-125 transition-all",children:null==g?void 0:g.threadName}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 text-[#8a86a0] text-sm",children:(null==g?void 0:g.visibility)==="Public"?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"text-[#00D1FF]",size:16}),(0,a.jsx)("span",{children:"Public"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"text-[#00D1FF]",size:16}),(0,a.jsx)("span",{children:"Private"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-[#8a86a0] text-sm",children:[(0,a.jsx)(i.A,{size:16,className:"text-[#00D1FF]"}),(0,a.jsx)("span",{children:null==g?void 0:g.members.length})]})]})]}),(0,a.jsx)("p",{className:"text-[#8a86a0] text-sm mb-5 line-clamp-2",children:g.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{size:16,className:"text-[#FF005D]"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[g.beads.length," Beads"]})]}),(0,a.jsx)("button",{className:"bg-[#1c102b] bg-opacity-50 p-1.5 rounded-lg text-white    hover:bg-gradient-to-r hover:from-[#FF005D] hover:to-[#00D1FF] hover:text-white   transition-colors",onClick:e=>{e.stopPropagation(),e.preventDefault(),E({qrCode:g.qrCode,name:g.threadName}),S(!0)},"aria-label":"Show QR code",children:(0,a.jsx)(d.A,{size:18})})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-[#1c102b] to-transparent pointer-events-none"})]}),(0,a.jsx)("div",{className:"flex justify-start p-4 space-x-2 overflow-x-auto scrollbar-none",children:g.beads.length>0?g.beads.map(e=>(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border border-[#FF005D] border-opacity-60",children:(0,a.jsx)("img",{src:e.image,alt:e.name||"Bead image",className:"w-full h-full object-cover",loading:"lazy"})},e.id)):(0,a.jsx)("div",{className:"text-[#8a86a0] text-xs italic",children:"No beads yet"})}),(0,a.jsx)("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-[#FF005D] via-[#00D1FF] to-[#00FFE7]   opacity-70 group-hover:opacity-100 transition-opacity pointer-events-none"}),q&&(0,a.jsxs)("div",{className:"absolute bottom-0 right-0 w-full flex items-center justify-end p-4 gap-2",children:[(0,a.jsx)("button",{onClick:()=>{P.current=!0},disabled:!0,className:"bg-[#FF005D]/50 hover:bg-[#FF005D]/80 cursor-pointer w-7 h-7 flex items-center justify-center rounded-full text-white",children:(0,a.jsx)(c.A,{size:12})}),(0,a.jsx)("button",{onClick:()=>{O(!0),P.current=!0},className:"bg-[#FF005D]/50 hover:bg-[#FF005D]/80  cursor-pointer w-7 h-7 flex items-center justify-center rounded-full text-white",children:(0,a.jsx)(u.A,{size:12})})]}),(0,a.jsx)(b,{open:T,children:(0,a.jsxs)(N,{className:"bg-[#1c102b] border border-[#3f2e6a] rounded-xl",children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(F,{children:"Are you absolutely sure?"}),(0,a.jsx)(k,{children:"This action cannot be undone. This will permanently delete the thread."})]}),(0,a.jsxs)(y,{children:[(0,a.jsx)(z,{onClick:()=>O(!1),className:"text-[#8a86a0] hover:text-[#FF005D] outline-none focus:outline-none border-0 focus:ring-0",children:"Cancel"}),(0,a.jsx)(C,{onClick:()=>M(g._id),className:"bg-red-600 hover:bg-red-700 text-white",children:j?"Deleting...":" Yes, delete it"})]})]})}),(0,a.jsx)(h.A,{isOpen:A,onClose:()=>{S(!1),P.current=!1},qrURL:null!==(t=B.qrCode)&&void 0!==t?t:"",title:null!==(s=B.name)&&void 0!==s?s:""})]})}},25313:(e,t,s)=>{Promise.resolve().then(s.bind(s,65630))},65630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(95155);s(12115);var r=s(13580),l=s(60704),n=s(53999);function i(e){let{className:t,...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/50 inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",t),...s})}var u=s(49861),x=s(86894),h=s(6829);let m=()=>{var e,t,s,l;let{user:n}=(0,r.G)(e=>e.auth),{data:m,isLoading:g,refetch:v,isFetching:f}=(0,u.nB)({id:null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"",page_number:1,page_size:10},{refetchOnMountOrArgChange:!0}),{data:b,isLoading:p,isFetching:j}=(0,u.Mc)({id:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:"",page_number:1,page_size:10},{refetchOnMountOrArgChange:!0}),N=null!==(s=null==m?void 0:m.data)&&void 0!==s?s:[],w=null!==(l=null==b?void 0:b.data)&&void 0!==l?l:[];return(0,a.jsxs)("div",{className:"p-4 space-y-8 container mx-auto",children:[(0,a.jsxs)("div",{className:"mt-7 flex flex-col gap-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white ",children:"Featured Threads"}),(0,a.jsx)(x.FN,{className:"w-full",children:(0,a.jsx)(x.Wk,{className:"p-4",children:N.slice(0,3).map(e=>(0,a.jsx)(x.A7,{className:"md:basis-1/1 lg:basis-1/1",children:(0,a.jsx)(h.B,{thread:e})},e.id))})})]}),(0,a.jsxs)(i,{defaultValue:"my",className:"w-full",children:[(0,a.jsxs)(o,{className:"bg-[#1c102b] text-white",children:[(0,a.jsx)(d,{value:"my",children:"My Threads"}),(0,a.jsx)(d,{value:"joined",children:"Joined Threads"})]}),(0,a.jsx)(c,{value:"my",className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>(0,a.jsx)(h.B,{thread:e},e.id))}),(0,a.jsx)(c,{value:"joined",className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>(0,a.jsx)(h.B,{thread:e},e.id))})]})]})}},86894:(e,t,s)=>{"use strict";s.d(t,{A7:()=>u,FN:()=>d,Wk:()=>c});var a=s(95155),r=s(12115),l=s(85005),n=s(53999);s(97168);let i=r.createContext(null);function o(){let e=r.useContext(i);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function d(e){let{orientation:t="horizontal",opts:s,setApi:o,plugins:d,className:c,children:u,...x}=e,[h,m]=(0,l.A)({...s,axis:"horizontal"===t?"x":"y"},d),[g,v]=r.useState(!1),[f,b]=r.useState(!1),p=r.useCallback(e=>{e&&(v(e.canScrollPrev()),b(e.canScrollNext()))},[]),j=r.useCallback(()=>{null==m||m.scrollPrev()},[m]),N=r.useCallback(()=>{null==m||m.scrollNext()},[m]),w=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),j()):"ArrowRight"===e.key&&(e.preventDefault(),N())},[j,N]);return r.useEffect(()=>{m&&o&&o(m)},[m,o]),r.useEffect(()=>{if(m)return p(m),m.on("reInit",p),m.on("select",p),()=>{null==m||m.off("select",p)}},[m,p]),(0,a.jsx)(i.Provider,{value:{carouselRef:h,api:m,opts:s,orientation:t||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:N,canScrollPrev:g,canScrollNext:f},children:(0,a.jsx)("div",{onKeyDownCapture:w,className:(0,n.cn)("relative",c),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...x,children:u})})}function c(e){let{className:t,...s}=e,{carouselRef:r,orientation:l}=o();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden","data-slot":"carousel-content",children:(0,a.jsx)("div",{className:(0,n.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",t),...s})})}function u(e){let{className:t,...s}=e,{orientation:r}=o();return(0,a.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,n.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",t),...s})}},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>i});var a=s(95155);s(12115);var r=s(99708),l=s(74466),n=s(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:l,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:s,size:l,className:t})),...d})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4540,6874,5710,404,467,3063,6671,2848,9550,8034,4217,3316,7349,620,8441,1684,7358],()=>t(25313)),_N_E=e.O()}]);