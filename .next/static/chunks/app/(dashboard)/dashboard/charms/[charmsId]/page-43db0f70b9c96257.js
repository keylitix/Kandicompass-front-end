(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5044],{1339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(95155),s=t(66766),l=t(35695),n=t(2394),i=t(12115),d=t(97168),o=t(27737),c=t(97939),u=t(55028),m=t(10106);(0,u.default)(()=>Promise.all([t.e(9484),t.e(1761),t.e(1746)]).then(t.bind(t,11746)),{loadableGenerated:{webpack:()=>[11746]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-[400px] w-full bg-gray-800 rounded-lg animate-pulse"})});let g=()=>{let e=(0,l.useParams)(),[a,t]=(0,i.useState)(null),{data:u,isLoading:g,isError:x}=(0,n.$o)({page_number:1,page_size:100}),h=(null==u?void 0:u.data)||[],p=Array.isArray(e.charmsId)?e.charmsId[0]:e.charmsId;return((0,i.useEffect)(()=>{h.length>0&&p&&t(h.find(e=>e._id===p))},[h,p]),g)?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 min-h-screen",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,r.jsx)(o.E,{className:"h-12 w-3/4 max-w-2xl"}),(0,r.jsx)(o.E,{className:"h-6 w-full max-w-3xl"}),(0,r.jsx)(o.E,{className:"w-full h-64 md:h-96 rounded-lg"}),(0,r.jsx)(o.E,{className:"w-full max-w-4xl h-16 rounded-lg"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-4xl",children:[(0,r.jsx)(o.E,{className:"w-full md:w-64 h-64 rounded-lg"}),(0,r.jsx)("div",{className:"flex-1 space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,r.jsx)(o.E,{className:"h-6 w-full"},a))})]})]})}):x?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-6 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-red-400 mb-3",children:"Error Loading Bead"}),(0,r.jsx)(d.$,{variant:"outline",className:"text-white border-white/70 hover:bg-white/10",onClick:()=>window.location.reload(),children:"Try Again"})]})}):a?(0,r.jsxs)("div",{className:"w-full mx-auto py-6 sm:py-8 min-h-screen",children:[(0,r.jsxs)("div",{className:"container w-full mx-auto text-center mb-8 md:mb-12 px-4",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-transparent bg-gradient-to-r from-[#FF005D] to-[#00D1FF] bg-clip-text font-orbitron mb-4",children:"Journey of Your Charm"}),(0,r.jsx)("p",{className:"text-sm text-gray-300 lg:max-w-[75%] mx-auto",children:a.description||"No description available"})]}),(0,r.jsxs)("div",{className:"container mx-auto flex flex-col lg:flex-row-reverse justify-evenly items-start gap-18 md:gap-8 px-4",children:[(0,r.jsx)("div",{className:"w-full lg:w-[30%]",children:(0,r.jsx)(m.A,{})}),(0,r.jsx)("div",{className:"w-full lg:w-[60%] flex flex-col justify-center gap-8",children:(0,r.jsxs)("div",{className:"w-full flex flex-col gap-6 lg:gap-12 justify-center",children:[(0,r.jsx)("div",{className:"w-full lg:w-[90%] relative rounded-none overflow-hidden border-0 border-gray-700 h-50 lg:h-80 bg-[#D9D9D9]/10",children:a.avatar?(0,r.jsx)(s.default,{src:"https://kandi-backend.cradle.services/".concat(a.avatar),alt:a.beadName||"Bead image",fill:!0,className:"object-contain hover:scale-105 transition-transform duration-300"}):(0,r.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center p-4",children:[(0,r.jsx)(c.A,{className:"h-12 w-12 text-gray-500 mb-2"}),(0,r.jsx)("p",{className:"text-gray-400 text-center",children:"No image available"})]})}),(0,r.jsx)("div",{className:"lg:w-[90%]",children:(0,r.jsxs)("div",{className:"w-full lg:w-[80%] mx-auto space-y-4 text-white",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("span",{className:"w-1/2 flex justify-between",children:["Bead Name",(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-1/2 text-end",children:a.beadName||"Royal Sapphire"})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("span",{className:"w-1/2 flex justify-between",children:["Miles Travelled",(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-1/2 text-end",children:"1,500 miles"})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("span",{className:"w-1/2 flex justify-between",children:["Total Hands-off",(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-1/2 text-end",children:"6"})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("span",{className:"w-1/2 flex justify-between",children:["Locations Visited",(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-1/2 text-end",children:"5 Locations"})]})]})})]})})]})]}):(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:"Bead Not Found"}),(0,r.jsx)("p",{className:"text-gray-300 mb-4",children:"The bead you're looking for doesn't exist or may have been removed."}),(0,r.jsx)(d.$,{variant:"outline",className:"text-white border-white/70 hover:bg-white/10",onClick:()=>window.history.back(),children:"Go Back"})]})})}},2394:(e,a,t)=>{"use strict";t.d(a,{$o:()=>i,MN:()=>d,Rh:()=>n,ee:()=>o,iS:()=>m,oB:()=>c,r$:()=>g});var r=t(70404),s=t(76698),l=t(23292);let n=(0,r.xP)({reducerPath:"beadApi",baseQuery:(0,s.cw)({baseUrl:l.x,prepareHeaders:(e,a)=>{let{getState:t}=a,r=t().auth.token;return r&&e.set("Authorization","Bearer ".concat(r)),e}}),tagTypes:["Bead"],endpoints:e=>({getBeads:e.query({query:e=>{let{page_number:a,page_size:t}=e;return"beads/getall?page_number=".concat(a,"&page_size=").concat(t)},providesTags:["Bead"]}),getBeadById:e.query({query:e=>"beads/getById/".concat(e),providesTags:(e,a,t)=>[{type:"Bead",id:t}]}),getBeadByThreadId:e.query({query:e=>{let{threadId:a,page_number:t,page_size:r}=e;return"beads/by-thread/".concat(a,"?page_no=").concat(t,"&page_size=").concat(r)},providesTags:["Bead"]}),addBead:e.mutation({query:e=>({url:"beads/create",method:"POST",body:e}),invalidatesTags:["Bead"]}),updateBead:e.mutation({query:e=>{let{id:a,body:t}=e;return{url:"beads/updateBead/".concat(a),method:"PUT",body:t}},invalidatesTags:(e,a,t)=>{let{id:r}=t;return[{type:"Bead",id:r}]}}),deleteBead:e.mutation({query:e=>({url:"beads/deleteBead/".concat(e),method:"DELETE"}),invalidatesTags:["Bead"]}),uploadBeadImage:e.mutation({query:e=>{let{beadId:a,formData:t}=e;return{url:"beads/uploadImage/".concat(a),method:"POST",body:t}},invalidatesTags:(e,a,t)=>{let{beadId:r}=t;return[{type:"Bead",id:r}]}}),createBeadWithImage:e.mutation({async queryFn(e,a,t,r){let{beadData:s,imageFile:l}=e,n=await r({url:"beads/create",method:"POST",body:s});if(n.error)return{error:n.error};let i=n.data;if(l&&i._id){let e=new FormData;e.append("image",l);let a=await r({url:"beads/uploadImage/".concat(i._id),method:"POST",body:e});if(a.error)return{error:a.error};let t=a.data;t.imageUrl&&await r({url:"beads/updateBead/".concat(i._id),method:"PUT",body:{imageUrl:t.imageUrl}})}return{data:i}},invalidatesTags:["Bead"]})})}),{useGetBeadsQuery:i,useGetBeadByIdQuery:d,useGetBeadByThreadIdQuery:o,useAddBeadMutation:c,useUpdateBeadMutation:u,useDeleteBeadMutation:m,useUploadBeadImageMutation:g,useCreateBeadWithImageMutation:x}=n},10106:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var r=t(95155),s=t(12115),l=t(19988);let n=e=>{let{locations:a}=e,t=(0,l.ko)(),r=(0,s.useRef)([]);return(0,s.useEffect)(()=>{if(t){r.current.forEach(e=>e.setMap(null)),r.current=[];for(let e=0;e<a.length-1;e++){let s=a[e],l=a[e+1],n=new google.maps.Polyline({path:[{lat:s.lat,lng:s.lng},{lat:l.lat,lng:l.lng}],geodesic:!0,strokeColor:"#FF005D",strokeOpacity:1,strokeWeight:3,map:t});r.current.push(n)}return()=>{r.current.forEach(e=>e.setMap(null))}}},[t]),null},i=e=>{let{locations:a}=e,t=(0,l.ko)(),r=(0,s.useRef)([]);return(0,s.useEffect)(()=>{if(!t)return;r.current.forEach(e=>e.setMap(null)),r.current=[];let e={url:"/worldmap-marker.png",scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,20)},s=new google.maps.InfoWindow;return a.forEach((a,l)=>{let n=new google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:t,title:a.title,icon:e,animation:google.maps.Animation.DROP});new google.maps.InfoWindow({content:'<div style="background-color: #FF005D; color: white; padding: 5px; border-radius: 50%; font-size: 14px; text-align: center;">'.concat(l+1,"</div>"),position:{lat:a.lat,lng:a.lng}}),r.current.push(n),n.addListener("mouseover",()=>{s.setContent('\n                    <div style="font-size: 14px; color: black;">\n                        <strong>'.concat(a.title,"</strong><br/>\n                        Latitude: ").concat(a.lat,"<br/>\n                        Longitude: ").concat(a.lng,"\n                    </div>\n                ")),s.open(t,n),google.maps.event.addListenerOnce(s,"domready",()=>{let e=document.querySelector(".gm-ui-hover-effect");e instanceof HTMLElement&&(e.style.display="none")})}),n.addListener("mouseout",()=>{s.close()})}),()=>{r.current.forEach(e=>e.setMap(null))}},[t]),null},d=()=>{let e=[{id:1,lat:40.7128,lng:-74.006,title:"New York"},{id:7,lat:41.8781,lng:-87.6298,title:"Chicago"},{id:8,lat:29.7604,lng:-95.3698,title:"Houston"},{id:6,lat:34.0522,lng:-118.2437,title:"Los Angeles"},{id:5,lat:37.7749,lng:-122.4194,title:"San Francisco"}],a=(0,l.ko)(),[t,d]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{a&&(d(!1),a.setOptions({gestureHandling:"greedy"}))},[a]),(0,r.jsx)("div",{className:"w-full relative mx-auto h-[250px] lg:h-[600px]  border-0 rounded-none border-gray-700 overflow-hidden",children:(0,r.jsxs)(l.T5,{style:{width:"100%",height:"100%",position:"absolute",zIndex:0,borderRadius:"inherit",border:"none"},defaultCenter:{lat:e[0].lat,lng:e[0].lng},defaultZoom:3,gestureHandling:"greedy",disableDefaultUI:!1,colorScheme:l.zM.DARK,restriction:{latLngBounds:{north:85,south:-85,east:180,west:-180},strictBounds:!0},children:[(0,r.jsx)(n,{locations:e}),(0,r.jsx)(i,{locations:e})]})})}},23292:(e,a,t)=>{"use strict";t.d(a,{x:()=>r});let r="https://backend.kandicompass.com/"},27737:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var r=t(95155),s=t(53999);function l(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",a),...t})}},53999:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var r=t(52596),s=t(39688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},86222:(e,a,t)=>{Promise.resolve().then(t.bind(t,1339))},97168:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>i});var r=t(95155);t(12115);var s=t(99708),l=t(74466),n=t(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:t,size:l,asChild:d=!1,...o}=e,c=d?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:t,size:l,className:a})),...o})}}},e=>{var a=a=>e(e.s=a);e.O(0,[4540,5710,404,467,3063,9988,451,8441,1684,7358],()=>a(86222)),_N_E=e.O()}]);