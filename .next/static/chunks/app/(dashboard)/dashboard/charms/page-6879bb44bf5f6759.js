(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9034],{121:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(95155),s=r(12115),n=r(35695),i=r(2394),d=r(97939),l=r(47863),o=r(66474),c=r(66766),u=r(97168),m=r(88482),h=r(27737),v=r(88145);let g=()=>{let[e,t]=(0,s.useState)(3),[r,g]=(0,s.useState)(!1),[x,p]=(0,s.useState)(null),f=(0,n.useRouter)(),{data:b,isLoading:y,isError:w}=(0,i.$o)({page_number:1,page_size:10}),j=(null==b?void 0:b.data)||[],k=e=>{f.push("/dashboard/charms/".concat(e))};return y?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)(m.Zp,{className:"bg-gray-800/50 border-gray-700 rounded-lg overflow-hidden w-full max-w-[320px] mx-auto",children:[(0,a.jsx)(h.E,{className:"h-[200px] w-full rounded-t-lg"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)(h.E,{className:"h-5 w-3/4 mx-auto rounded-full"}),(0,a.jsx)(h.E,{className:"h-9 w-full mt-3 rounded-md"})]})]},t))})}):w?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:(0,a.jsx)(m.Zp,{className:"bg-red-900/20 border-red-700/50 max-w-md mx-auto",children:(0,a.jsxs)(m.Wu,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-red-400 mb-3",children:"Error Loading Beads"}),(0,a.jsx)(u.$,{variant:"outline",className:"text-white border-white/70 hover:bg-white/10",onClick:()=>window.location.reload(),children:"Try Again"})]})})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Your Bead Inventory"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm sm:text-base max-w-2xl mx-auto",children:"Manage your bead collection with ease"}),(0,a.jsxs)(v.E,{variant:"outline",className:"mt-3 bg-gray-800/50 text-gray-300 border-gray-600 text-xs sm:text-sm p-3",children:["Total: ",j.length," beads"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 justify-items-center",children:j.slice(0,e).map(e=>(0,a.jsxs)(m.Zp,{className:"bg-gray-800/50 border-gray-700 hover:border-pink-500/70 transition-all duration-300 w-full max-w-[320px] shadow-md hover:shadow-lg hover:shadow-pink-500/10",children:[(0,a.jsxs)("div",{className:"relative h-[200px] w-full overflow-hidden",onMouseEnter:()=>p(e._id),onMouseLeave:()=>p(null),children:[e.avatar?(0,a.jsx)(c.default,{src:"https://kandi-backend.cradle.services/".concat(e.avatar),alt:e.beadName,fill:!0,className:"object-cover transition-transform duration-300 hover:scale-105",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}):(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image Available"})}),e.qrCode&&x===e._id&&(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/90 flex flex-col items-center justify-center p-4 transition-opacity duration-300",children:[(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg flex flex-col items-center",children:[(0,a.jsx)(c.default,{src:"https://kandi-backend.cradle.services/".concat(e.qrCode),width:120,height:120,alt:"QR Code",className:"object-contain"}),(0,a.jsx)("p",{className:"text-black mt-2 text-xs sm:text-sm font-medium",children:"Scan QR Code"})]}),(0,a.jsx)(d.A,{className:"text-white mt-3 animate-pulse",size:20})]})]}),(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-white font-semibold text-base sm:text-lg text-center line-clamp-2",children:e.beadName}),e.category&&(0,a.jsx)("div",{className:"flex justify-center mt-2",children:(0,a.jsx)(v.E,{variant:"secondary",className:"bg-pink-500/20 text-pink-300 text-xs",children:e.category})})]}),(0,a.jsx)(m.wL,{className:"p-4 pt-0",children:(0,a.jsx)(u.$,{onClick:()=>k(e._id),variant:"outline",className:"w-full bg-transparent text-white border-white/70 hover:bg-gradient-to-r hover:from-pink-500/80 hover:to-blue-500/80 hover:border-transparent text-sm py-6",children:"View Details"})})]},e._id))}),j.length>3&&(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)(u.$,{variant:"outline",className:"bg-transparent text-white border-white/70 hover:bg-gradient-to-r hover:from-pink-500/80 hover:to-blue-500/80 hover:border-transparent text-sm sm:text-base px-5 py-2",onClick:()=>{t(r?3:j.length),g(!r)},children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Show Less"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Show All"]})})})]})}},2394:(e,t,r)=>{"use strict";r.d(t,{$o:()=>d,MN:()=>l,Rh:()=>i,ee:()=>o,iS:()=>m,oB:()=>c,r$:()=>h});var a=r(70404),s=r(76698),n=r(23292);let i=(0,a.xP)({reducerPath:"beadApi",baseQuery:(0,s.cw)({baseUrl:n.x,prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("Authorization","Bearer ".concat(a)),e}}),tagTypes:["Bead"],endpoints:e=>({getBeads:e.query({query:e=>{let{page_number:t,page_size:r}=e;return"beads/getall?page_number=".concat(t,"&page_size=").concat(r)},providesTags:["Bead"]}),getBeadById:e.query({query:e=>"beads/getById/".concat(e),providesTags:(e,t,r)=>[{type:"Bead",id:r}]}),getBeadByThreadId:e.query({query:e=>{let{threadId:t,page_number:r,page_size:a}=e;return"beads/by-thread/".concat(t,"?page_no=").concat(r,"&page_size=").concat(a)},providesTags:["Bead"]}),addBead:e.mutation({query:e=>({url:"beads/create",method:"POST",body:e}),invalidatesTags:["Bead"]}),updateBead:e.mutation({query:e=>{let{id:t,body:r}=e;return{url:"beads/updateBead/".concat(t),method:"PUT",body:r}},invalidatesTags:(e,t,r)=>{let{id:a}=r;return[{type:"Bead",id:a}]}}),deleteBead:e.mutation({query:e=>({url:"beads/deleteBead/".concat(e),method:"DELETE"}),invalidatesTags:["Bead"]}),uploadBeadImage:e.mutation({query:e=>{let{beadId:t,formData:r}=e;return{url:"beads/uploadImage/".concat(t),method:"POST",body:r}},invalidatesTags:(e,t,r)=>{let{beadId:a}=r;return[{type:"Bead",id:a}]}}),createBeadWithImage:e.mutation({async queryFn(e,t,r,a){let{beadData:s,imageFile:n}=e,i=await a({url:"beads/create",method:"POST",body:s});if(i.error)return{error:i.error};let d=i.data;if(n&&d._id){let e=new FormData;e.append("image",n);let t=await a({url:"beads/uploadImage/".concat(d._id),method:"POST",body:e});if(t.error)return{error:t.error};let r=t.data;r.imageUrl&&await a({url:"beads/updateBead/".concat(d._id),method:"PUT",body:{imageUrl:r.imageUrl}})}return{data:d}},invalidatesTags:["Bead"]})})}),{useGetBeadsQuery:d,useGetBeadByIdQuery:l,useGetBeadByThreadIdQuery:o,useAddBeadMutation:c,useUpdateBeadMutation:u,useDeleteBeadMutation:m,useUploadBeadImageMutation:h,useCreateBeadWithImageMutation:v}=i},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=r(12115);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:l?24*Number(d)/Number(s):d,className:n("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...o}=r;return(0,a.createElement)(d,{ref:i,iconNode:t,className:n("lucide-".concat(s(e)),l),...o})});return r.displayName="".concat(e),r}},23292:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});let a="https://backend.kandicompass.com/"},27737:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var a=r(95155),s=r(53999);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",t),...r})}},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},47863:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},66474:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},66766:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(71469),s=r.n(a)},71469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return d}});let a=r(88229),s=r(38883),n=r(33063),i=a._(r(51193));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=n.Image},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var a=r(52596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.$,i=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:d}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==d?void 0:d[e];if(null===t)return null;let n=s(t)||s(a);return i[e][n]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return n(e,l,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...d,...o}[t]):({...d,...o})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},88145:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(95155);r(12115);var s=r(99708),n=r(74466),i=r(53999);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,asChild:n=!1,...l}=e,o=n?s.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(d({variant:r}),t),...l})}},88482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>o});var a=r(95155);r(12115);var s=r(53999);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-[data-slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>d});var a=r(95155);r(12115);var s=r(99708),n=r(74466),i=r(53999);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...o}=e,c=l?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(d({variant:r,size:n,className:t})),...o})}},97939:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},98050:(e,t,r)=>{Promise.resolve().then(r.bind(r,121))}},e=>{var t=t=>e(e.s=t);e.O(0,[4540,5710,404,467,3063,8441,1684,7358],()=>t(98050)),_N_E=e.O()}]);