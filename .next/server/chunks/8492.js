"use strict";exports.id=8492,exports.ids=[8492],exports.modules={24934:(e,t,a)=>{a.d(t,{$:()=>o,r:()=>i});var s=a(60687);a(43210);var n=a(8730),r=a(24224),l=a(96241);let i=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t,size:a,asChild:r=!1,...o}){let d=r?n.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:a,className:e})),...o})}},31959:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(60687),n=a(43210),r=a(37826),l=a(7994),i=a(30474),o=a(61899),d=a(98523),c=a(31158),x=a(71444),u=a(42902);function m({isOpen:e,onClose:t,qrURL:a,title:m,status:h}){let[g,f]=(0,n.useState)(!1),[b,p]=(0,n.useState)(4),[v,j]=(0,n.useState)(2),y=async e=>{try{let t=await fetch(`${l.x}${a}`),s=await t.blob(),n=URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=`${e}-qr-code.png`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}catch(e){console.error("Failed to download QR code:",e)}};return(0,s.jsx)(r.lG,{open:e,onOpenChange:e=>e&&t(),children:(0,s.jsxs)(r.Cf,{onInteractOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),className:"bg-white","aria-describedby":void 0,children:[(0,s.jsx)(r.c7,{children:(0,s.jsx)("h2",{className:"text-2xl font-bold",children:m})}),(0,s.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,s.jsx)(i.default,{src:`${l.x}${a}`,alt:"QR Code",width:250,height:250,className:"object-contain"})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("label",{className:"font-semibold text-black",children:"Print Multiple?"}),(0,s.jsx)(u.d,{checked:g,onCheckedChange:f,className:"data-[state=checked]:bg-[#FF005D] bg-gray-300 "})]})}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"font-semibold text-black",children:"How many copies?"}),(0,s.jsx)("input",{type:"number",min:1,max:1e3,className:`${(0,o.s)(!1)} text-black`,value:b,onChange:e=>p(parseInt(e.target.value)),style:{borderImage:"linear-gradient(to right, #FF005D, #00D1FF) 1",outline:"none",color:"black"}})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"font-semibold text-black",children:"QRs per row?"}),(0,s.jsx)("input",{type:"number",min:1,max:4,className:`${(0,o.s)(!1)} text-black`,value:v,onChange:e=>j(parseInt(e.target.value)),style:{borderImage:"linear-gradient(to right, #FF005D, #00D1FF) 1",outline:"none",color:"black"}})]})]}),(0,s.jsx)(r.Es,{className:"flex flex-col gap-2 mt-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,s.jsx)(d.GradientButton,{icon:c.A,variant:"outline",onClick:()=>y(m),children:"Download QR"}),(0,s.jsx)(d.GradientButton,{icon:x.A,variant:"outline",onClick:()=>{let e=window.open("","_blank");if(!e)return;let t=`${l.x}${a}`,s=g?Array.from({length:b}).map(()=>`<div class="qr"><img src="${t}" /></div>`).join(""):`<div class="qr qr-single"><img src="${t}" /></div>`;e.document.write(`
      <html>
        <head>
          <title>Print QR Code</title>
          <style>
            body {
              margin: 20px;
              padding: 0;
              font-family: sans-serif;
            }
            .grid {
              display: ${g?"grid":"flex"};
              grid-template-columns: repeat(${v}, 1fr);
              gap: 20px;
              justify-items: center;
              align-items: center;
              justify-content: center;
            }
            .qr img {
              width: ${g?"150px":"100%"};
              height: ${g?"150px":"100%"};
              object-fit: contain;
            }
            .qr-single {
              width: 100vw;
              height: 100vh;
              display: flex;
              justify-content: center;
              align-items: center;
            }
          </style>
        </head>
        <body>
          <div class="grid">
            ${s}
          </div>
        </body>
      </html>
    `),e.document.close(),e.focus(),e.print()},children:"Print QR"}),(0,s.jsx)(d.GradientButton,{onClick:t,children:"Close"})]})})]})})}},37826:(e,t,a)=>{a.d(t,{Cf:()=>c,Es:()=>u,L3:()=>m,LC:()=>d,c7:()=>x,lG:()=>i});var s=a(60687);a(43210);var n=a(26134),r=a(11860),l=a(96241);function i({...e}){return(0,s.jsx)(n.bL,{"data-slot":"dialog",...e})}function o({...e}){return(0,s.jsx)(n.ZL,{"data-slot":"dialog-portal",...e})}function d({className:e,...t}){return(0,s.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in- fixed inset-0 z-50 bg-black/50",e),...t})}function c({className:e,children:t,...a}){return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-[#1c102b] max-h-[calc(100vh-3rem)] overflow-y-auto hide-scrollbar data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-[#3f2e6a] p-6 shadow-lg duration-200 sm:max-w-lg",e),...a,children:[t,(0,s.jsxs)(n.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(r.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function u({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...t}){return(0,s.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...t})}},61899:(e,t,a)=>{a.d(t,{A:()=>r,s:()=>n});var s=a(60687);a(43210);let n=e=>["w-full","py-2","px-3","text-white","bg-transparent","border-2","border-transparent","rounded-md","text-sm",e?"pl-10":""].join(" "),r=({label:e,type:t,name:a,value:n,onChange:r,readOnly:l=!1,placeholder:i="",additionalStyles:o="",rows:d=4,cols:c=50,icon:x,onBlur:u})=>(0,s.jsxs)("div",{className:"mb-4",children:[e&&(0,s.jsx)("label",{className:"block text-white mb-1 text-sm font-medium",htmlFor:a,children:e}),(0,s.jsxs)("div",{className:"relative w-full",children:[x&&(0,s.jsx)("div",{className:"absolute top-1/2 left-3 -translate-y-1/2 text-white",children:(0,s.jsx)(x,{size:16})}),(0,s.jsx)("div",{className:`w-full rounded-lg p-[2px] bg-gradient-to-r from-[#FF005D] to-[#00D1FF] ${o}`,children:"textarea"===t?(0,s.jsx)("textarea",{id:a,name:a,value:n,onChange:r,readOnly:l,placeholder:i,onBlur:u,rows:d,cols:c,className:`w-full p-3 text-white bg-[#1c102b] rounded-lg outline-none resize-vertical ${x?"pl-10":""}`}):(0,s.jsx)("input",{id:a,type:t,name:a,value:n,onChange:r,onBlur:u,readOnly:l,placeholder:i,className:`w-full p-3 text-white bg-[#1c102b] rounded-lg outline-none ${x?"pl-10":""}`})})]})]})},88492:(e,t,a)=>{a.d(t,{B:()=>R});var s=a(60687),n=a(43210),r=a.n(n),l=a(51956),i=a(64021),o=a(41312),d=a(56085),c=a(16103),x=a(57175),u=a(96362),m=a(16189),h=a(31959),g=a(6760),f=a(97895),b=a(96241),p=a(24934);function v({...e}){return(0,s.jsx)(f.bL,{"data-slot":"alert-dialog",...e})}function j({...e}){return(0,s.jsx)(f.ZL,{"data-slot":"alert-dialog-portal",...e})}function y({className:e,...t}){return(0,s.jsx)(f.hJ,{"data-slot":"alert-dialog-overlay",className:(0,b.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function N({className:e,...t}){return(0,s.jsxs)(j,{children:[(0,s.jsx)(y,{}),(0,s.jsx)(f.UC,{"data-slot":"alert-dialog-content",className:(0,b.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function w({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,b.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function F({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,b.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function k({className:e,...t}){return(0,s.jsx)(f.hE,{"data-slot":"alert-dialog-title",className:(0,b.cn)("text-lg font-semibold",e),...t})}function D({className:e,...t}){return(0,s.jsx)(f.VY,{"data-slot":"alert-dialog-description",className:(0,b.cn)("text-muted-foreground text-sm",e),...t})}function C({className:e,...t}){return(0,s.jsx)(f.rc,{className:(0,b.cn)((0,p.r)(),e),...t})}function z({className:e,...t}){return(0,s.jsx)(f.ZD,{className:(0,b.cn)((0,p.r)({variant:"outline"}),e),...t})}var $=a(82207),A=a(52581);let R=({thread:e,refetchThreads:t,isFetchingThreads:a})=>{let[n,{isLoading:f}]=(0,$.K4)(),[b,p]=r().useState(!1),[j,y]=r().useState({qrCode:null,name:""}),R=(0,m.useRouter)(),_=r().useRef(!1),[L,q]=r().useState(!1),{user:B}=(0,g.G)(e=>e.auth),S=e?.ownerId===B?.id;console.log("refetchThreads, isFetchingThreads",e);let E=async e=>{_.current=!0;let s=await n(e).unwrap();s?.isSuccess&&(t&&t(),a&&(A.oR.success("Thread deleted successfully!"),q(!1)))};return(0,s.jsxs)("div",{tabIndex:0,onClick:t=>{if(_.current)return;let a=t.target;!(a.closest("button")||a.closest("svg"))&&e&&e?._id&&!1===_.current&&R.push(`/dashboard/thread/${e._id}`)},className:"relative bg-[#1c102b] rounded-xl overflow-hidden border border-[#3f2e6a] border-opacity-70   transition-all duration-500 hover:shadow-[0_0_20px_rgb(255,0,93)] hover:border-opacity-100   group cursor-pointer relative",children:[(0,s.jsxs)("div",{className:"relative p-5",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold bg-gradient-to-r from-[#FF005D] to-[#00D1FF] bg-clip-text text-transparent   group-hover:brightness-125 transition-all",children:e?.threadName}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 text-[#8a86a0] text-sm",children:e?.visibility==="Public"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"text-[#00D1FF]",size:16}),(0,s.jsx)("span",{children:"Public"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{className:"text-[#00D1FF]",size:16}),(0,s.jsx)("span",{children:"Private"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-[#8a86a0] text-sm",children:[(0,s.jsx)(o.A,{size:16,className:"text-[#00D1FF]"}),(0,s.jsx)("span",{children:e?.members.length})]})]})]}),(0,s.jsx)("p",{className:"text-[#8a86a0] text-sm mb-5 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{size:16,className:"text-[#FF005D]"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-white",children:[e.beads.length," Beads"]})]}),(0,s.jsx)("button",{className:"bg-[#1c102b] bg-opacity-50 p-1.5 rounded-lg text-white    hover:bg-gradient-to-r hover:from-[#FF005D] hover:to-[#00D1FF] hover:text-white   transition-colors",onClick:t=>{t.stopPropagation(),t.preventDefault(),y({qrCode:e.qrCode,name:e.threadName}),p(!0)},"aria-label":"Show QR code",children:(0,s.jsx)(c.A,{size:18})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-[#1c102b] to-transparent pointer-events-none"})]}),(0,s.jsx)("div",{className:"flex justify-start p-4 space-x-2 overflow-x-auto scrollbar-none",children:e.beads.length>0?e.beads.map(e=>(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border border-[#FF005D] border-opacity-60",children:(0,s.jsx)("img",{src:e.image,alt:e.name||"Bead image",className:"w-full h-full object-cover",loading:"lazy"})},e.id)):(0,s.jsx)("div",{className:"text-[#8a86a0] text-xs italic",children:"No beads yet"})}),(0,s.jsx)("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-[#FF005D] via-[#00D1FF] to-[#00FFE7]   opacity-70 group-hover:opacity-100 transition-opacity pointer-events-none"}),S&&(0,s.jsxs)("div",{className:"absolute bottom-0 right-0 w-full flex items-center justify-end p-4 gap-2",children:[(0,s.jsx)("button",{onClick:()=>{_.current=!0},disabled:!0,className:"bg-[#FF005D]/50 hover:bg-[#FF005D]/80 cursor-pointer w-7 h-7 flex items-center justify-center rounded-full text-white",children:(0,s.jsx)(x.A,{size:12})}),(0,s.jsx)("button",{onClick:()=>{q(!0),_.current=!0},className:"bg-[#FF005D]/50 hover:bg-[#FF005D]/80  cursor-pointer w-7 h-7 flex items-center justify-center rounded-full text-white",children:(0,s.jsx)(u.A,{size:12})})]}),(0,s.jsx)(v,{open:L,children:(0,s.jsxs)(N,{className:"bg-[#1c102b] border border-[#3f2e6a] rounded-xl",children:[(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:"Are you absolutely sure?"}),(0,s.jsx)(D,{children:"This action cannot be undone. This will permanently delete the thread."})]}),(0,s.jsxs)(F,{children:[(0,s.jsx)(z,{onClick:()=>q(!1),className:"text-[#8a86a0] hover:text-[#FF005D] outline-none focus:outline-none border-0 focus:ring-0",children:"Cancel"}),(0,s.jsx)(C,{onClick:()=>E(e._id),className:"bg-red-600 hover:bg-red-700 text-white",children:f?"Deleting...":" Yes, delete it"})]})]})}),(0,s.jsx)(h.A,{isOpen:b,onClose:()=>{p(!1),_.current=!1},qrURL:j.qrCode??"",title:j.name??""})]})}},98523:(e,t,a)=>{a.d(t,{GradientButton:()=>l});var s=a(60687);a(43210);var n=a(85814),r=a.n(n);let l=({variant:e="fill",icon:t,href:a,children:n,className:l="",type:i="button",...o})=>{let d=(0,s.jsx)("button",{type:i,...a?{}:{role:"button"},...o,className:`flex items-center font-semibold transition-all cursor-pointer
        ${"fill"===e?"border border-transparent bg-gradient-to-r from-[#FF005D] to-[#00D1FF] text-white px-4 py-2 rounded-lg hover:opacity-90":"p-[2px] bg-gradient-to-r from-[#FF005D] to-[#00D1FF] rounded-lg"}
        ${l}`,children:"outline"===e?(0,s.jsxs)("div",{className:"flex items-center bg-[#1c102b] text-white px-4 py-2 rounded-md hover:opacity-90 transition-all font-semibold",children:[t&&(0,s.jsx)(t,{size:18,className:"mr-2"}),n]}):(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(t,{size:18,className:"mr-2"}),n]})});return a?(0,s.jsx)(r(),{href:a,children:d}):d}}};